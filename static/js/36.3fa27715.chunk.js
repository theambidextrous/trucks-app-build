(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{141:function(e,t,a){"use strict";var n=a(34),r=a(10),l=a(4),c=a.n(l),o=a(2),s=a.n(o),i=(a(23),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),u=function(e){var t,a=e.tag,l=e.className,o=e.type,u=Object(r.a)(e,["tag","className","type"]),m=c()(Object(n.a)({},o,!!o),l);return t=a||(!a&&i[o]?i[o]:"p"),s.a.createElement(t,Object.assign({},u,{className:m}))};u.defaultProps={type:"p"},t.a=u},142:function(e,t,a){"use strict";var n=a(10),r=a(2),l=a.n(r),c=(a(23),a(27)),o=a(157),s=a(158),i=a(141),u=c.a.create("page"),m=function(e){var t=e.title,a=e.breadcrumbs,r=e.tag,c=e.className,m=e.children,d=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),p=u.b("px-3",c);return l.a.createElement(r,Object.assign({className:p},d),l.a.createElement("div",{className:u.e("header")},t&&"string"===typeof t?l.a.createElement(i.a,{type:"h1",className:u.e("title")},t):t,a&&l.a.createElement(o.a,{className:u.e("breadcrumb")},l.a.createElement(s.a,null,"iTruck IO"),a.length&&a.map(function(e,t){var a=e.name,n=e.active;return l.a.createElement(s.a,{key:t,active:n},a)}))),m)};m.defaultProps={tag:"div",title:""},t.a=m},937:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(12),l=a(13),c=a(15),o=a(14),s=a(16),i=a(142),u=a(2),m=a.n(u),d=a(948),p=a(48),h=a(131),f=a(132),E=a(117),v=a(121),g=a(62),b=a(118),y=a(110),O=a(47),C=a(49),j=a(73),w=a(52),D=a(50),k=a(28),S=a.n(k),x=a(8),R=a(177),_=a.n(R),I=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).firstUpper=function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},a.format_date_str=function(e){var t=e.split("-"),a=t[2].slice(0,2);return Object(d.a)(new Date(t[0],t[1],a),"MM/dd/yyyy")},a.handleFromDateInput=function(e){var t=e.target.value;a.setState(Object(n.a)({},a.state,{from_date:t}))},a.handleToDateInput=function(e){var t=e.target.value;a.setState(Object(n.a)({},a.state,{to_date:t}))},a.handleDriverInput=function(e){var t=e.target.value;a.setState(Object(n.a)({},a.state,{driver:t}))},a.handleSaveChanges=function(){a.setState(Object(n.a)({},a.state,{preload:!0})),Object(D.r)(a.state.xtoken,a.state,a.state.driver).then(function(e){200===e.status?(a.setState(Object(n.a)({},a.state,{msg:e.message,data:e.data,preload:!1,error:""})),a.forceUpdate()):a.setState(Object(n.a)({},a.state,{error:e.message,preload:!1,msg:""}))}).catch(function(e){a.setState(Object(n.a)({},a.state,{error:"Connection error occured",preload:!1})),console.log("error",e)})},a.state={driver:"nn",from_date:"",to_date:"",xtoken:"",msg:"",error:"",downloadFile:!0,preload:!1,data:[],drivers:[]},S.a.getItem(x.a.secret).then(function(e){if(null!==e){var t=JSON.parse(e);a.setState(Object(n.a)({},a.state,{xtoken:t.user.token})),Object(D.s)(t.user.token).then(function(e){a.setState(Object(n.a)({},a.state,{drivers:e.data}))}).catch(function(e){})}}).catch(function(e){console.log("storage error",e)}),a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=[{name:"Id",options:{display:"excluded"}},"Driver","Truck",{name:"Load rate",options:{display:!0,customBodyRender:function(e,t,a){return m.a.createElement(p.a,null,"$",e)}}},{name:"Driver rate type",options:{display:!0,customBodyRender:function(e,t,a){return 1===parseInt(e)?m.a.createElement(p.a,null,"Percentage"):m.a.createElement(p.a,null,"Fixed amount")}}},{name:"Driver rate",options:{display:!0,customBodyRender:function(e,t,a){return m.a.createElement(p.a,null,e)}}},{name:"Earning",options:{display:!0,customBodyRender:function(e,t,a){return m.a.createElement(p.a,null,"$",e)}}},{name:"Date Posted",options:{display:!0,customBodyRender:function(t,a,n){return m.a.createElement("p",null,e.format_date_str(t))}}}],a={filter:!0,selectableRows:"none",selectableRowsOnClick:!0,filterType:"dropdown",responsive:"vertical",draggableColumns:{enabled:!0},rowsPerPage:5,selectToolbarPlacement:"replace",downloadOptions:{filename:"driver-earnings-excel-format.csv",separator:";",filterOptions:{useDisplayedColumnsOnly:!0,useDisplayedRowsOnly:!0}},onDownload:function(t,a,n,r){return!!e.state.downloadFile&&"".concat(t(n)).concat(a(r)).trim()},onRowSelectionChange:function(e,t,a){},onRowsDelete:function(e){},onChangePage:function(e){},onSearchChange:function(e){},onColumnSortChange:function(e,t){},onViewColumnsChange:function(e,t){},onFilterChange:function(e,t){},onCellClick:function(e,t){},onRowClick:function(e,t){}};return m.a.createElement(i.a,{title:"Driver earnings",breadcrumbs:[{name:"Earnings",active:!0}]},m.a.createElement(h.a,null,m.a.createElement(f.a,{xl:12,lg:12,md:12},m.a.createElement(E.a,null,m.a.createElement(v.a,null,"Driver Earnings",this.state.preload&&m.a.createElement(w.a,null)),this.state.error.length>0&&m.a.createElement(g.a,{color:"danger"},this.state.error)))),m.a.createElement(h.a,null,m.a.createElement(f.a,{xl:3,lg:12,md:12},m.a.createElement(E.a,null,m.a.createElement(b.a,null,m.a.createElement(y.a,null,m.a.createElement(O.a,null,m.a.createElement(p.a,{for:"exampleSelect"},"Choose driver*"),m.a.createElement(C.a,{onChange:this.handleDriverInput,value:this.state.driver,defaultValue:this.state.driver,type:"select",name:"driver"},m.a.createElement("option",{value:"nn",disabled:!0},"Select driver"),this.state.drivers.map(function(t,a){return m.a.createElement("option",{key:a,value:t.id},e.firstUpper(t.fname)+"  "+t.lname)}))))))),m.a.createElement(f.a,{xl:3,lg:12,md:12},m.a.createElement(E.a,null,m.a.createElement(b.a,null,m.a.createElement(y.a,null,m.a.createElement(O.a,null,m.a.createElement(p.a,{for:"exampleSelect"},"Date from*"),m.a.createElement(C.a,{onChange:this.handleFromDateInput,type:"date",value:this.state.from_date,name:"fromdate",placeholder:""})))))),m.a.createElement(f.a,{xl:3,lg:12,md:12},m.a.createElement(E.a,null,m.a.createElement(b.a,null,m.a.createElement(y.a,null,m.a.createElement(O.a,null,m.a.createElement(p.a,{for:"exampleSelect"},"Date to*"),m.a.createElement(C.a,{onChange:this.handleToDateInput,type:"date",value:this.state.to_date,name:"todate",placeholder:""})))))),m.a.createElement(f.a,{xl:3,lg:12,md:12},m.a.createElement(E.a,null,m.a.createElement(b.a,null,m.a.createElement(y.a,null,m.a.createElement(O.a,{check:!0,row:!0},m.a.createElement(f.a,{sm:{size:10,offset:2}},m.a.createElement(j.a,{type:"button",onClick:this.handleSaveChanges},"Run search")))))))),m.a.createElement(h.a,null,m.a.createElement(f.a,{xl:12,lg:12,md:12},m.a.createElement(E.a,null,m.a.createElement(b.a,null,m.a.createElement(_.a,{title:"Driver earnings",data:this.state.data.map(function(e){return[e.id,e.dlabel,e.tlabel,e.rate,e.rate_type,e.drate,e.earning,e.created_at]}),columns:t,options:a}))))))}}]),t}(m.a.Component);t.default=I}}]);
//# sourceMappingURL=36.3fa27715.chunk.js.map