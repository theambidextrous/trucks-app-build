(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{140:function(e,a,t){"use strict";var n=t(17),r=t(1),l=t.n(r),o=(t(24),t(32)),i=t(215),c=t(216),s=t(141),m=o.a.create("page"),d=function(e){var a=e.title,t=e.breadcrumbs,r=e.tag,o=e.className,d=e.children,u=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),b=m.b("px-3",o);return l.a.createElement(r,Object.assign({className:b},u),l.a.createElement("div",{className:m.e("header")},a&&"string"===typeof a?l.a.createElement(s.a,{type:"h1",className:m.e("title")},a):a,t&&l.a.createElement(i.a,{className:m.e("breadcrumb")},l.a.createElement(c.a,null,"BlueTrux"),t.length&&t.map(function(e,a){var t=e.name,n=e.active;return l.a.createElement(c.a,{key:a,active:n},t)}))),d)};d.defaultProps={tag:"div",title:""},a.a=d},141:function(e,a,t){"use strict";var n=t(36),r=t(17),l=t(5),o=t.n(l),i=t(1),c=t.n(i),s=(t(24),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),m=function(e){var a,t=e.tag,l=e.className,i=e.type,m=Object(r.a)(e,["tag","className","type"]),d=o()(Object(n.a)({},i,!!i),l);return a=t||(!t&&s[i]?s[i]:"p"),c.a.createElement(a,Object.assign({},m,{className:d}))};m.defaultProps={type:"p"},a.a=m},142:function(e,a,t){"use strict";a.a={data:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}]}},274:function(e,a,t){"use strict";var n=t(10),r=t(12),l=t(13),o=t(15),i=t(14),c=t(16),s=t(1),m=t.n(s),d=t(415),u=t(444),b=t(149),p=t.n(b),h=t(276),v=t.n(h),E=t(173),g=t.n(E),f=t(275),y=t.n(f),C=t(150),O=t.n(C),k=t(135),S=(t(142),t(29)),N=t(186),j=t(182),w=t(108),M=t(183),x=t(104),I=t(105),P=t(106),D=t(117),A=t(103),T=t(109),U=t(110),_=t(111),R=t(184),L=t(112),V=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(o.a)(this,Object(i.a)(a).call(this,e))).hideEditModal=function(){t.setState(Object(n.a)({},t.state,{showEditModal:!1,showPayModal:!1})),t.state.saved&&t.props.rerenderParentCallback()},t.handleDocInput=function(e){var a=e.target.files[0];t.setState(Object(n.a)({},t.state,{delivery_docs:a}))},t.handlePayStatusInput=function(e){var a=e.target.value;t.setState(Object(n.a)({},t.state,{paid:a}))},t.handleEditSaveChanges=function(){var e=new FormData;e.append("delivery_docs",t.state.delivery_docs),Object(S.sb)(t.state.xtoken,e,t.state.id).then(function(e){200===e.status?t.setState(Object(n.a)({},t.state,{saved:!0,error:"",msg:e.message})):t.setState(Object(n.a)({},t.state,{error:e.message,msg:""}))}).catch(function(e){t.setState(Object(n.a)({},t.state,{error:"Connection error occured"})),console.log("error",e)})},t.handlePaySaveChanges=function(){var e={status:t.state.paid};Object(S.rb)(t.state.xtoken,e,t.state.id).then(function(e){200===e.status?t.setState(Object(n.a)({},t.state,{saved:!0,error:"",msg:e.message})):t.setState(Object(n.a)({},t.state,{error:e.message,msg:""}))}).catch(function(e){t.setState(Object(n.a)({},t.state,{error:"Connection error occured"})),console.log("error",e)})},t.handleUploadDeliveryDoc=function(){var e=t.props.selectedRows.data[0].dataIndex,a=t.props.originalData[e];t.setState({showEditModal:!0,id:a.id,bol:a.bol,is_delivered:a.is_delivered,xtoken:t.props.Xtoken})},t.handleAttachPayment=function(){var e=t.props.selectedRows.data[0].dataIndex,a=t.props.originalData[e];t.setState({showPayModal:!0,id:a.id,bol:a.bol,is_delivered:a.is_delivered,xtoken:t.props.Xtoken})},t.handleGoToEdit=function(){var e=t.props.selectedRows.data[0].dataIndex,a=t.props.originalData[e];window.location.href="/manage-loads/edit/"+a.id},t.handleDeleteSelection=function(){var e=t.props.selectedRows.data[0].dataIndex,a=t.props.originalData[e];Object(S.g)(t.props.Xtoken,a.id).then(function(e){if(200===e.status)return alert(e.message),void t.props.rerenderParentCallback();alert(e.message)}).catch(function(e){alert("Connection error occured")})},t.handleClickDeselectAll=function(){t.props.setSelectedRows([])},t.firstUpper=function(e){var a=e.toLowerCase();return a.charAt(0).toUpperCase()+a.slice(1)},t.handleClickBlockSelected=function(){console.log("block users with dataIndexes: ".concat(t.props.selectedRows.data.map(function(e){return e.dataIndex})))},t.state={showEditModal:!1,showPayModal:!1,saved:!1,id:"",bol:"",is_delivered:0,delivery_docs:"",paid:"nn",xtoken:"",msg:"",error:""},t}return Object(c.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.classes;return m.a.createElement("div",{className:e.iconContainer},m.a.createElement(u.a,{title:"Attach Payment"},m.a.createElement(d.a,{className:e.iconButton,onClick:this.handleAttachPayment},m.a.createElement(y.a,{className:e.icon}))),m.a.createElement(u.a,{title:"Attach Delivery Docs"},m.a.createElement(d.a,{className:e.iconButton,onClick:this.handleUploadDeliveryDoc},m.a.createElement(v.a,{className:e.icon}))),m.a.createElement(u.a,{title:"Modify Load"},m.a.createElement(d.a,{className:e.iconButton,onClick:this.handleGoToEdit},m.a.createElement(p.a,{className:e.icon}))),m.a.createElement(u.a,{title:"Deselect row"},m.a.createElement(d.a,{className:e.iconButton,onClick:this.handleClickDeselectAll},m.a.createElement(O.a,{className:e.icon}))),m.a.createElement(u.a,{title:"Drop row"},m.a.createElement(d.a,{className:e.iconButton,onClick:this.handleDeleteSelection},m.a.createElement(g.a,{className:e.icon}))),m.a.createElement(N.a,{size:"lg",isOpen:this.state.showEditModal,backdrop:!1},m.a.createElement(j.a,null,"Attach Signed Delivery Document",m.a.createElement("br",null),m.a.createElement("small",null,"This confirms that the Cargo was successfully delivered"),this.state.error.length>0&&m.a.createElement("div",null,m.a.createElement("br",null),m.a.createElement(w.a,{color:"danger"},this.state.error)),this.state.msg.length>0&&m.a.createElement("div",null,m.a.createElement("br",null),m.a.createElement(w.a,{color:"success"},this.state.msg))),m.a.createElement(M.a,null,m.a.createElement(x.a,null,m.a.createElement(I.a,{xl:6,lg:12,md:12},m.a.createElement(P.a,null,m.a.createElement(D.a,null,m.a.createElement(A.a,null,m.a.createElement(T.a,null,m.a.createElement(U.a,{for:"exampleEmail"},"Selected Load BOL*"),m.a.createElement(_.a,{readOnly:!0,type:"text",value:this.state.bol,name:"bookdate"})))))),m.a.createElement(I.a,{xl:6,lg:12,md:12},m.a.createElement(P.a,null,m.a.createElement(D.a,null,m.a.createElement(A.a,null,m.a.createElement(T.a,null,m.a.createElement(U.a,{for:"exampleEmail"},"Upload file*"),m.a.createElement(_.a,{onChange:this.handleDocInput,type:"file",name:"hjj",placeholder:""})))))))),m.a.createElement(R.a,null,m.a.createElement(L.a,{color:"primary",onClick:this.handleEditSaveChanges},"Save changes")," ",m.a.createElement(L.a,{color:"secondary",onClick:this.hideEditModal},"Close"))),m.a.createElement(N.a,{size:"lg",isOpen:this.state.showPayModal,backdrop:!1},m.a.createElement(j.a,null,"Mark Entry As Paid",m.a.createElement("br",null),m.a.createElement("small",null,"This confirms that the Cargo was successfully delivered and paid for"),this.state.error.length>0&&m.a.createElement("div",null,m.a.createElement("br",null),m.a.createElement(w.a,{color:"danger"},this.state.error)),this.state.msg.length>0&&m.a.createElement("div",null,m.a.createElement("br",null),m.a.createElement(w.a,{color:"success"},this.state.msg))),m.a.createElement(M.a,null,m.a.createElement(x.a,null,m.a.createElement(I.a,{xl:6,lg:12,md:12},m.a.createElement(P.a,null,m.a.createElement(D.a,null,m.a.createElement(A.a,null,m.a.createElement(T.a,null,m.a.createElement(U.a,{for:"exampleEmail"},"Selected Load BOL*"),m.a.createElement(_.a,{readOnly:!0,type:"text",value:this.state.bol,name:"bookdate"})))))),m.a.createElement(I.a,{xl:6,lg:12,md:12},m.a.createElement(P.a,null,m.a.createElement(D.a,null,m.a.createElement(A.a,null,m.a.createElement(T.a,null,m.a.createElement(U.a,{for:"exampleEmail"},"Payment Status*"),m.a.createElement(_.a,{onChange:this.handlePayStatusInput,value:this.state.paid,defaultValue:this.state.paid,type:"select",name:"stt"},m.a.createElement("option",{value:"nn",disabled:!0},"Select one"),m.a.createElement("option",{value:"1"},"Paid"),m.a.createElement("option",{value:"2"},"Awaiting Payment"))))))))),m.a.createElement(R.a,null,m.a.createElement(L.a,{color:"primary",onClick:this.handlePaySaveChanges},"Save changes")," ",m.a.createElement(L.a,{color:"secondary",onClick:this.hideEditModal},"Close"))))}}]),a}(m.a.Component);a.a=Object(k.a)({iconButton:{},iconContainer:{marginRight:"24px"},inverseIcon:{transform:"rotate(90deg)"}},{name:"CustomToolbarSelectLoads"})(V)},936:function(e,a,t){"use strict";t.r(a);var n=t(761),r=t.n(n),l=t(764),o=t(10),i=t(12),c=t(13),s=t(15),m=t(14),d=t(16),u=t(140),b=t(1),p=t.n(b),h=t(5),v=t.n(h),E=t(25),g=t(106),f=t(117),y=t(115),C=t(116),O=t(126),k=t(358),S=t(359),N=t(104),j=t(105),w=t(107),M=t(108),x=t(103),I=t(109),P=t(110),D=t(111),A=t(112),T=(t(142),t(30)),U=t(29),_=t(27),R=t.n(_),L=t(4),V=(t(162),t(274),t(765)),B=t(766),W=Object(V.a)(L.a.stripe_p_key),G=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).toggleTab=function(e){t.state.activeTab!==e&&t.setState(Object(o.a)({},t.state,{activeTab:e}))},t.firstUpper=function(e){var a=e.toLowerCase();return a.charAt(0).toUpperCase()+a.slice(1)},t.handleGroupInput=function(e){var a=e.target.value,n={group:a};Object(U.T)(t.state.xtoken,n).then(function(e){200===e.status?t.setState(Object(o.a)({},t.state,{group:a,validUntil:e.data.end,cost:e.data.cost})):t.setState(Object(o.a)({},t.state,{group:a,error:e.message}))}).catch(function(e){return console.log(e)})},t.handleSaveChanges=Object(l.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),t.state={activeTab:"1",cost:"",validUntil:"",group:"30",xtoken:"",msg:"",error:"",preload:!1},R.a.getItem(L.a.secret).then(function(e){if(null!==e){var a=JSON.parse(e);Object(U.T)(a.user.token,{group:"30"}).then(function(e){t.setState(Object(o.a)({},t.state,{xtoken:a.user.token,validUntil:e.data.end,cost:e.data.cost}))}).catch(function(e){return console.log(e)})}}).catch(function(e){console.log("storage error",e)}),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return p.a.createElement(E.a,null,function(a){return p.a.createElement(u.a,{title:"Upgrade Plan",breadcrumbs:[{name:"Upgrade",active:!0}]},p.a.createElement(g.a,null,p.a.createElement(f.a,null,p.a.createElement(y.a,{tabs:!0},p.a.createElement(C.a,null,p.a.createElement(O.a,{className:v()({active:"1"===e.state.activeTab}),onClick:function(){e.toggleTab("1")}},"Upgrade Plan"))),p.a.createElement(k.a,{activeTab:e.state.activeTab},p.a.createElement(S.a,{tabId:"1"},p.a.createElement(N.a,null,p.a.createElement(j.a,{xl:12,lg:12,md:12},p.a.createElement(N.a,null,p.a.createElement(j.a,{xl:12,lg:12,md:12},p.a.createElement(g.a,{className:"borderless"},e.state.preload&&p.a.createElement(w.a,null,p.a.createElement(T.a,null)),e.state.error.length>0&&p.a.createElement(M.a,{color:"danger"},e.state.error),e.state.msg.length>0&&p.a.createElement(M.a,{color:"success"},e.state.msg)))),p.a.createElement(j.a,{xl:12,lg:12,md:12},p.a.createElement(x.a,null,p.a.createElement(I.a,null,p.a.createElement(P.a,{className:"pay-label",for:"exampleEmail"},"Renewal Period*"),p.a.createElement(D.a,{className:"long-input",onChange:e.handleGroupInput,value:e.state.group,defaultValue:e.state.group,type:"select",name:"sftate"},p.a.createElement("option",{value:"nn",disabled:!0},"Select plan"),p.a.createElement("option",{value:"30"},"Monthly"),p.a.createElement("option",{value:"90"},"Quarterly"),p.a.createElement("option",{value:"180"},"Semi-annually"),p.a.createElement("option",{value:"365"},"Annually"))),p.a.createElement(I.a,null,p.a.createElement(P.a,null,"Valid Until*"),p.a.createElement(D.a,{readOnly:!0,type:"date",value:e.state.validUntil,name:"fd"}),p.a.createElement("br",null),p.a.createElement(P.a,null,p.a.createElement("b",null,"Cost $",e.state.cost))),p.a.createElement(I.a,null,p.a.createElement(P.a,{className:"pay-label",for:"exampleEmail"},"Payment details*"),p.a.createElement("div",{className:"form-control long-input"},p.a.createElement(B.CardElement,{options:{style:{base:{fontSize:"16px",backgroundColor:"#ffffff",borderWidth:3,borderColor:"#000000",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}}))),p.a.createElement(I.a,{check:!0,row:!0},p.a.createElement(j.a,{sm:{size:6,offset:3}},p.a.createElement(A.a,{type:"button",onClick:Object(l.a)(r.a.mark(function t(){var n,l,i,c,s,m,d,u,b;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState(Object(o.a)({},e.state,{preload:!0})),n={cost:e.state.cost,group:e.state.group,payment_method:0},l=e.props,i=l.stripe,c=l.elements,i&&c){t.next=5;break}return t.abrupt("return");case 5:return s=c.getElement(B.CardElement),t.next=8,i.createPaymentMethod({type:"card",card:s});case 8:if(m=t.sent,d=m.error,u=m.paymentMethod,!d){t.next=17;break}return console.log("[error]",d),e.setState(Object(o.a)({},e.state,{preload:!1,error:"Card Error. Stripe Could not verify your card information. Please use Visa or Mastercard",msg:""})),t.abrupt("return");case 17:b=u.id,n.payment_method=b,Object(U.a)(e.state.xtoken,n).then(function(t){if(200==t.status){var n={user:t.data,is_logged_in:!0};R.a.setItem(L.a.secret,JSON.stringify(n)),a.switchStateHandler(n),e.setState(Object(o.a)({},e.state,{preload:!1,msg:t.message,error:""}))}else e.setState(Object(o.a)({},e.state,{preload:!1,error:t.message,msg:""}))}).catch(function(a){e.setState(Object(o.a)({},e.state,{preload:!1,error:"Connection error occured",msg:""}))});case 20:case"end":return t.stop()}},t)}))},"Complete Payment"))))))))))))})}}]),a}(p.a.Component),H=function(){return p.a.createElement(B.ElementsConsumer,null,function(e){var a=e.elements,t=e.stripe;return p.a.createElement(G,{elements:a,stripe:t})})};a.default=function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement(B.Elements,{stripe:W},p.a.createElement(H,null)))}}}]);
//# sourceMappingURL=25.28eb80b4.chunk.js.map