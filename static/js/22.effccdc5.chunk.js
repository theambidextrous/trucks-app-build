(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{141:function(e,t,a){"use strict";var l=a(34),n=a(10),r=a(4),c=a.n(r),s=a(2),u=a.n(s),m=(a(23),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),o=function(e){var t,a=e.tag,r=e.className,s=e.type,o=Object(n.a)(e,["tag","className","type"]),i=c()(Object(l.a)({},s,!!s),r);return t=a||(!a&&m[s]?m[s]:"p"),u.a.createElement(t,Object.assign({},o,{className:i}))};o.defaultProps={type:"p"},t.a=o},142:function(e,t,a){"use strict";var l=a(10),n=a(2),r=a.n(n),c=(a(23),a(27)),s=a(157),u=a(158),m=a(141),o=c.a.create("page"),i=function(e){var t=e.title,a=e.breadcrumbs,n=e.tag,c=e.className,i=e.children,d=Object(l.a)(e,["title","breadcrumbs","tag","className","children"]),E=o.b("px-3",c);return r.a.createElement(n,Object.assign({className:E},d),r.a.createElement("div",{className:o.e("header")},t&&"string"===typeof t?r.a.createElement(m.a,{type:"h1",className:o.e("title")},t):t,a&&r.a.createElement(s.a,{className:o.e("breadcrumb")},r.a.createElement(u.a,null,"iTruck IO"),a.length&&a.map(function(e,t){var a=e.name,l=e.active;return r.a.createElement(u.a,{key:t,active:l},a)}))),i)};i.defaultProps={tag:"div",title:""},t.a=i},157:function(e,t,a){"use strict";var l=a(5),n=a(6),r=a(2),c=a.n(r),s=a(1),u=a.n(s),m=a(4),o=a.n(m),i=a(3),d={tag:i.q,listTag:i.q,className:u.a.string,listClassName:u.a.string,cssModule:u.a.object,children:u.a.node,"aria-label":u.a.string},E=function(e){var t=e.className,a=e.listClassName,r=e.cssModule,s=e.children,u=e.tag,m=e.listTag,d=e["aria-label"],E=Object(n.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),p=Object(i.m)(o()(t),r),h=Object(i.m)(o()("breadcrumb",a),r);return c.a.createElement(u,Object(l.a)({},E,{className:p,"aria-label":d}),c.a.createElement(m,{className:h},s))};E.propTypes=d,E.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},t.a=E},158:function(e,t,a){"use strict";var l=a(5),n=a(6),r=a(2),c=a.n(r),s=a(1),u=a.n(s),m=a(4),o=a.n(m),i=a(3),d={tag:i.q,active:u.a.bool,className:u.a.string,cssModule:u.a.object},E=function(e){var t=e.className,a=e.cssModule,r=e.active,s=e.tag,u=Object(n.a)(e,["className","cssModule","active","tag"]),m=Object(i.m)(o()(t,!!r&&"active","breadcrumb-item"),a);return c.a.createElement(s,Object(l.a)({},u,{className:m,"aria-current":r?"page":void 0}))};E.propTypes=d,E.defaultProps={tag:"li"},t.a=E},359:function(e,t,a){"use strict";t.a={data:[{name:"1%",value:1},{name:"2%",value:2},{name:"3%",value:3},{name:"4%",value:4},{name:"5%",value:5},{name:"6%",value:6},{name:"7%",value:7},{name:"8%",value:8},{name:"9%",value:9},{name:"10%",value:10},{name:"11%",value:11},{name:"12%",value:12},{name:"13%",value:13},{name:"14%",value:14},{name:"15%",value:15},{name:"16%",value:16},{name:"17%",value:17},{name:"18%",value:18},{name:"19%",value:19},{name:"20%",value:20},{name:"21%",value:21},{name:"22%",value:22},{name:"23%",value:23},{name:"24%",value:24},{name:"25%",value:25},{name:"26%",value:26},{name:"27%",value:27},{name:"28%",value:28},{name:"29%",value:29},{name:"30%",value:30}]}},472:function(e,t,a){"use strict";var l=a(5),n=a(6),r=a(2),c=a.n(r),s=a(1),u=a.n(s),m=a(4),o=a.n(m),i=a(3),d={className:u.a.string,cssModule:u.a.object,size:u.a.string,bordered:u.a.bool,borderless:u.a.bool,striped:u.a.bool,inverse:Object(i.h)(u.a.bool,'Please use the prop "dark"'),dark:u.a.bool,hover:u.a.bool,responsive:u.a.oneOfType([u.a.bool,u.a.string]),tag:i.q,responsiveTag:i.q,innerRef:u.a.oneOfType([u.a.func,u.a.string,u.a.object])},E=function(e){var t=e.className,a=e.cssModule,r=e.size,s=e.bordered,u=e.borderless,m=e.striped,d=e.inverse,E=e.dark,p=e.hover,h=e.responsive,b=e.tag,v=e.responsiveTag,f=e.innerRef,g=Object(n.a)(e,["className","cssModule","size","bordered","borderless","striped","inverse","dark","hover","responsive","tag","responsiveTag","innerRef"]),j=Object(i.m)(o()(t,"table",!!r&&"table-"+r,!!s&&"table-bordered",!!u&&"table-borderless",!!m&&"table-striped",!(!E&&!d)&&"table-dark",!!p&&"table-hover"),a),O=c.a.createElement(b,Object(l.a)({},g,{ref:f,className:j}));if(h){var k=!0===h?"table-responsive":"table-responsive-"+h;return c.a.createElement(v,{className:k},O)}return O};E.propTypes=d,E.defaultProps={tag:"table",responsiveTag:"div"},t.a=E},936:function(e,t,a){"use strict";a.r(t);var l=a(17),n=a(12),r=a(13),c=a(15),s=a(14),u=a(16),m=a(142),o=a(2),i=a.n(o),d=a(948),E=a(131),p=a(132),h=a(117),b=a(121),v=a(62),f=a(118),g=a(110),j=a(47),O=a(48),k=a(49),S=a(73),y=a(472),N=a(52),_=a(50),T=a(28),C=a.n(T),D=a(8),M=a(359),$=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).format_date_str=function(e){var t=e.split("-"),a=t[2].slice(0,2);return Object(d.a)(new Date(t[0],t[1],a),"MM/dd/yyyy")},a.firstUpper=function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},a.handleStartDateInput=function(e){var t=e.target.value;a.setState(Object(l.a)({},a.state,{from_date:t}))},a.handleEndDateInput=function(e){var t=e.target.value;a.setState(Object(l.a)({},a.state,{to_date:t}))},a.handleTruckInput=function(e){var t=e.target.value;a.setState(Object(l.a)({},a.state,{truck:t}))},a.handleRateInput=function(e){var t=e.target.value;a.setState(Object(l.a)({},a.state,{rate:t}))},a.handleSaveChanges=function(){a.setState(Object(l.a)({},a.state,{preload:!0})),Object(_.B)(a.state.xtoken,a.state).then(function(e){200===e.status?(a.setState(Object(l.a)({},a.state,{msg:e.message,trips:e.trips,deductions:e.deductions,scheduled:e.scheduled,fuel:e.fuel,summations:e.summations,preload:!1,error:""})),a.forceUpdate()):a.setState(Object(l.a)({},a.state,{error:e.message,preload:!1,msg:""}))}).catch(function(e){a.setState(Object(l.a)({},a.state,{error:"Connection error occured",preload:!1})),console.log("error",e)})},a.handleDownloadReport=function(){a.setState(Object(l.a)({},a.state,{preload:!0})),Object(_.h)(a.state.xtoken,a.state).then(function(e){if(200===e.status){var t=e.fileurl,n=document.createElement("a");n.href=t,n.setAttribute("download","statement"),n.setAttribute("target","_blank"),n.click(),a.setState(Object(l.a)({},a.state,{preload:!1,fileurl:e.fileurl,error:""})),a.forceUpdate()}else a.setState(Object(l.a)({},a.state,{error:e.message,preload:!1,msg:""}))}).catch(function(e){a.setState(Object(l.a)({},a.state,{error:"Connection error occured",preload:!1})),console.log("error",e)})},a.state={truck:"nn",rate:"nn",from_date:"",to_date:"",xtoken:"",msg:"",error:"",fileurl:"",downloadFile:!0,preload:!1,trips:[],deductions:[],scheduled:[],fuel:[],summations:{a:"0.00",b:"0.00",c:"0.00",d:"0.00",e:"0.00"},trucks:[]},C.a.getItem(D.a.secret).then(function(e){if(null!==e){var t=JSON.parse(e);a.setState(Object(l.a)({},a.state,{xtoken:t.user.token})),Object(_.A)(t.user.token).then(function(e){a.setState(Object(l.a)({},a.state,{trucks:e.data}))}).catch(function(e){})}}).catch(function(e){console.log("storage error",e)}),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{title:"Factoring reports",breadcrumbs:[{name:"Reports",active:!0}]},i.a.createElement(E.a,null,i.a.createElement(p.a,{xl:12,lg:12,md:12},i.a.createElement(h.a,null,i.a.createElement(b.a,null,"Factoring reports",this.state.preload&&i.a.createElement(N.a,null)),this.state.error.length>0&&i.a.createElement(v.a,{color:"danger"},this.state.error)))),i.a.createElement(E.a,null,i.a.createElement(p.a,{xl:4,lg:12,md:12},i.a.createElement(h.a,null,i.a.createElement(f.a,null,i.a.createElement(g.a,null,i.a.createElement(j.a,null,i.a.createElement(O.a,{for:"exampleSelect"},"Start date*"),i.a.createElement(k.a,{onChange:this.handleStartDateInput,type:"date",value:this.state.from_date,name:"fromdate",placeholder:""})),i.a.createElement(j.a,null,i.a.createElement(O.a,{for:"exampleSelect"},"End date*"),i.a.createElement(k.a,{onChange:this.handleEndDateInput,type:"date",value:this.state.to_date,name:"todate",placeholder:""})),i.a.createElement(j.a,null,i.a.createElement(O.a,{for:"exampleSelect"},"Truck*"),i.a.createElement(k.a,{onChange:this.handleTruckInput,value:this.state.truck,defaultValue:this.state.truck,type:"select",name:"driver"},i.a.createElement("option",{value:"nn",disabled:!0},"Select truck"),this.state.trucks.map(function(t,a){return i.a.createElement("option",{key:a,value:t.id},e.firstUpper(t.make)+" - "+t.number)}))),i.a.createElement(j.a,null,i.a.createElement(O.a,{for:"exampleSelect"},"Rate*"),i.a.createElement(k.a,{onChange:this.handleRateInput,value:this.state.rate,defaultValue:this.state.rate,type:"select",name:"driver"},i.a.createElement("option",{value:"nn",disabled:!0},"Select rate"),M.a.data.map(function(e,t){return i.a.createElement("option",{key:t,value:e.value},e.name)}))),i.a.createElement(E.a,null,i.a.createElement(p.a,{xl:6,lg:12,md:12},i.a.createElement(j.a,null,i.a.createElement(S.a,{type:"button",onClick:this.handleSaveChanges},"Run report"))),i.a.createElement(p.a,{xl:6,lg:12,md:12},i.a.createElement(j.a,null,i.a.createElement(S.a,{type:"button",onClick:this.handleDownloadReport},"Download")))))))),i.a.createElement(p.a,{xl:8,lg:12,md:12},i.a.createElement(h.a,null,i.a.createElement(b.a,{className:"statement-head"},"Trips"),i.a.createElement(f.a,null,i.a.createElement(y.a,{responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Trip"),i.a.createElement("th",null,"Description"),i.a.createElement("th",null,"Mileage"),i.a.createElement("th",null,"Date"),i.a.createElement("th",null,"Load rate"),i.a.createElement("th",null,"Net rate"))),i.a.createElement("tbody",null,this.state.trips.map(function(t,a){return i.a.createElement("tr",null,i.a.createElement("th",{scope:"row"},t.number),i.a.createElement("td",null,t.origin," - ",t.destination),i.a.createElement("td",null,t.mileage),i.a.createElement("td",null,e.format_date_str(t.created_at)),i.a.createElement("td",null,"$",t.rate),i.a.createElement("td",null,"$",t.net))}),i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"4"}),i.a.createElement("td",null,i.a.createElement("b",null,"Total")),i.a.createElement("td",null,i.a.createElement("b",null,"$",this.state.summations.a)))))),i.a.createElement(b.a,{className:"statement-head"},"Deductions"),i.a.createElement(f.a,null,i.a.createElement(y.a,{responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Description"),i.a.createElement("th",null,"Date"),i.a.createElement("th",null,"Misc. amount"),i.a.createElement("th",null,"Amount"),i.a.createElement("th",null,"Subtotal"))),i.a.createElement("tbody",null,this.state.deductions.map(function(t,a){return i.a.createElement("tr",null,i.a.createElement("td",null,t.description),i.a.createElement("td",null,e.format_date_str(t.created_at)),i.a.createElement("td",null,"$",t.misc_amount_f),i.a.createElement("td",null,"$",t.amount_f),i.a.createElement("td",null,"$",t.total))}),i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"3"}),i.a.createElement("td",null,i.a.createElement("b",null,"Total")),i.a.createElement("td",null,i.a.createElement("b",null,"($",this.state.summations.b,")")))))),i.a.createElement(b.a,{className:"statement-head"},"Fuel Card"),i.a.createElement(f.a,null,i.a.createElement(y.a,{responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Description"),i.a.createElement("th",null,"City"),i.a.createElement("th",null,"State"),i.a.createElement("th",null,"Date"),i.a.createElement("th",null,"Misc. cost"),i.a.createElement("th",null,"Fuel cost"),i.a.createElement("th",null,"Subtotal"))),i.a.createElement("tbody",null,this.state.fuel.map(function(t,a){return i.a.createElement("tr",null,i.a.createElement("td",null,t.description),i.a.createElement("td",null,t.city),i.a.createElement("td",null,t.state),i.a.createElement("td",null,e.format_date_str(t.created_at)),i.a.createElement("td",null,"$",t.misc_amount_f),i.a.createElement("td",null,"$",t.amount_f),i.a.createElement("td",null,"$",t.total))}),i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"5"}),i.a.createElement("td",null,i.a.createElement("b",null,"Total")),i.a.createElement("td",null,i.a.createElement("b",null,"($",this.state.summations.c,")")))))),i.a.createElement(b.a,{className:"statement-head"},"Scheduled deductions"),i.a.createElement(f.a,null,i.a.createElement(y.a,{responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Description"),i.a.createElement("th",null,"Date"),i.a.createElement("th",null,"Amount"),i.a.createElement("th",null,"Subtotal"))),i.a.createElement("tbody",null,this.state.scheduled.map(function(t,a){return i.a.createElement("tr",null,i.a.createElement("td",null,t.description),i.a.createElement("td",null,e.format_date_str(t.created_at)),i.a.createElement("td",null,"$",t.amount_f),i.a.createElement("td",null,"$",t.total))}),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"2"}),i.a.createElement("td",null,i.a.createElement("b",null,"Total")),i.a.createElement("td",null,i.a.createElement("b",null,"($",this.state.summations.d,")"))),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"4"})),i.a.createElement("tr",{className:"statement-check"},i.a.createElement("td",{colSpan:"2"}),i.a.createElement("td",null,i.a.createElement("b",null,"Check Amount")),i.a.createElement("td",null,i.a.createElement("b",null,"$",this.state.summations.e))))))))))}}]),t}(i.a.Component);t.default=$}}]);
//# sourceMappingURL=22.effccdc5.chunk.js.map