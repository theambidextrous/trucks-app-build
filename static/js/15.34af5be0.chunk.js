(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{138:function(e,t,a){"use strict";var l=a(17),r=a(1),n=a.n(r),c=(a(24),a(32)),s=a(215),o=a(216),u=a(141),d=c.a.create("page"),m=function(e){var t=e.title,a=e.breadcrumbs,r=e.tag,c=e.className,m=e.children,i=Object(l.a)(e,["title","breadcrumbs","tag","className","children"]),p=d.b("px-3",c);return n.a.createElement(r,Object.assign({className:p},i),n.a.createElement("div",{className:d.e("header")},t&&"string"===typeof t?n.a.createElement(u.a,{type:"h1",className:d.e("title")},t):t,a&&n.a.createElement(s.a,{className:d.e("breadcrumb")},n.a.createElement(o.a,null,"BlueTrux"),a.length&&a.map(function(e,t){var a=e.name,l=e.active;return n.a.createElement(o.a,{key:t,active:l},a)}))),m)};m.defaultProps={tag:"div",title:""},t.a=m},141:function(e,t,a){"use strict";var l=a(36),r=a(17),n=a(5),c=a.n(n),s=a(1),o=a.n(s),u=(a(24),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),d=function(e){var t,a=e.tag,n=e.className,s=e.type,d=Object(r.a)(e,["tag","className","type"]),m=c()(Object(l.a)({},s,!!s),n);return t=a||(!a&&u[s]?u[s]:"p"),o.a.createElement(t,Object.assign({},d,{className:m}))};d.defaultProps={type:"p"},t.a=d},213:function(e,t,a){"use strict";t.a={data:[{name:"1%",value:1},{name:"2%",value:2},{name:"3%",value:3},{name:"4%",value:4},{name:"5%",value:5},{name:"6%",value:6},{name:"7%",value:7},{name:"8%",value:8},{name:"9%",value:9},{name:"10%",value:10},{name:"11%",value:11},{name:"12%",value:12},{name:"13%",value:13},{name:"14%",value:14},{name:"15%",value:15},{name:"16%",value:16},{name:"17%",value:17},{name:"18%",value:18},{name:"19%",value:19},{name:"20%",value:20},{name:"21%",value:21},{name:"22%",value:22},{name:"23%",value:23},{name:"24%",value:24},{name:"25%",value:25},{name:"26%",value:26},{name:"27%",value:27},{name:"28%",value:28},{name:"29%",value:29},{name:"30%",value:30}]}},311:function(e,t,a){"use strict";var l=a(6),r=a(7),n=a(1),c=a.n(n),s=a(2),o=a.n(s),u=a(5),d=a.n(u),m=a(3),i={className:o.a.string,cssModule:o.a.object,size:o.a.string,bordered:o.a.bool,borderless:o.a.bool,striped:o.a.bool,inverse:Object(m.h)(o.a.bool,'Please use the prop "dark"'),dark:o.a.bool,hover:o.a.bool,responsive:o.a.oneOfType([o.a.bool,o.a.string]),tag:m.p,responsiveTag:m.p,innerRef:o.a.oneOfType([o.a.func,o.a.string,o.a.object])},p=function(e){var t=e.className,a=e.cssModule,n=e.size,s=e.bordered,o=e.borderless,u=e.striped,i=e.inverse,p=e.dark,h=e.hover,f=e.responsive,v=e.tag,E=e.responsiveTag,b=e.innerRef,g=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","inverse","dark","hover","responsive","tag","responsiveTag","innerRef"]),y=Object(m.l)(d()(t,"table",!!n&&"table-"+n,!!s&&"table-bordered",!!o&&"table-borderless",!!u&&"table-striped",!(!p&&!i)&&"table-dark",!!h&&"table-hover"),a),_=c.a.createElement(v,Object(l.a)({},g,{ref:b,className:y}));if(f){var O=!0===f?"table-responsive":"table-responsive-"+f;return c.a.createElement(E,{className:O},_)}return _};p.propTypes=i,p.defaultProps={tag:"table",responsiveTag:"div"},t.a=p},756:function(e,t,a){"use strict";var l=a(63),r=a(139);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(1)),c=(0,l(a(140)).default)(n.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircle");t.default=c},757:function(e,t,a){"use strict";var l=a(63),r=a(139);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(1)),c=(0,l(a(140)).default)(n.createElement("path",{d:"M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"}),"ImportExport");t.default=c},758:function(e,t,a){"use strict";var l=a(63),r=a(139);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(1)),c=(0,l(a(140)).default)(n.createElement("path",{d:"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"}),"Archive");t.default=c},759:function(e,t,a){"use strict";var l=a(63),r=a(139);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(1)),c=(0,l(a(140)).default)(n.createElement("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"}),"PictureAsPdf");t.default=c},760:function(e,t,a){"use strict";var l=a(63),r=a(139);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(1)),c=(0,l(a(140)).default)(n.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.default=c},933:function(e,t,a){"use strict";a.r(t);var l=a(10),r=a(12),n=a(13),c=a(15),s=a(14),o=a(16),u=a(138),d=a(1),m=a.n(d),i=a(940),p=a(104),h=a(105),f=a(106),v=a(107),E=a(108),b=a(117),g=a(103),y=a(109),_=a(110),O=a(111),j=a(311),N=a(112),k=a(30),S=a(445),x=a(757),C=a.n(x),w=a(758),M=a.n(w),I=a(759),z=a.n(I),F=a(760),H=a.n(F),D=a(756),P=a.n(D),A=a(28),T=a(27),R=a.n(T),V=a(4),W=(a(213),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).format_date_str=function(e){var t=e.split("-"),a=t[2].slice(0,2);return Object(i.a)(new Date(t[0],t[1],a),"MM/dd/yyyy")},a.firstUpper=function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},a.currentDate=function(){var e=new Date;return e.setDate(e.getDate()),e.toISOString().substr(0,10)},a.formatGivenDate=function(e){var t=new Date(Date.parse(e));return t.setDate(t.getDate()),t.toISOString().substr(0,10)},a.removeItemOnce=function(e,t){var a=e.indexOf(t);return a>-1&&e.splice(a,1),e},a.handleMoveFromReport=function(e){var t=[],r=a.state.data,n=[],c=[parseFloat(a.state.all_total.toString().replace(",",""))],s=a.state.selected_total.toString(),o=[parseFloat(s.replace(",",""))];a.state.selecteddata.forEach(function(a,l){var s=a.rate.replace(",","");parseInt(a.id)===parseInt(e)?(r.push(a),c.push(parseFloat(s)),o.push(-1*parseFloat(s))):(t.push(a),n.push(a.id))}),a.setState(Object(l.a)({},a.state,{data:r,included:n,selecteddata:t,selected_count:t.length,all_count:r.length,all_total:a.numberWithCommas(parseFloat(c.reduce(function(e,t){return e+t},0)).toFixed(1)),selected_total:a.numberWithCommas(parseFloat(o.reduce(function(e,t){return e+t},0)).toFixed(1))}))},a.handleMoveToReport=function(e){var t=a.state.selecteddata,r=[],n=a.state.included,c=[],s=a.state.selected_total.toString(),o=[parseFloat(s.replace(",",""))];a.state.data.forEach(function(a,l){var s=a.rate.replace(",","");parseInt(a.id)===parseInt(e)?(t.push(a),n.push(e),o.push(parseFloat(s))):(r.push(a),c.push(parseFloat(s)))}),a.setState(Object(l.a)({},a.state,{data:r,included:n,selecteddata:t,selected_count:t.length,all_count:r.length,all_total:a.numberWithCommas(parseFloat(c.reduce(function(e,t){return e+t},0)).toFixed(1)),selected_total:a.numberWithCommas(parseFloat(o.reduce(function(e,t){return e+t},0)).toFixed(1))}))},a.numberWithCommas=function(e){return e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")},a.handleCompanyInputChange=function(e){var t=e.target.value;a.setState(Object(l.a)({},a.state,{preload:!0,company:t,selected_count:0,selected_total:0,selecteddata:[]}));var r={company:t};Object(A.P)(a.state.xtoken,r).then(function(e){200===e.status?(a.setState(Object(l.a)({},a.state,{msg:e.message,data:e.data,all_count:e.count,all_total:e.total,preload:!1,error:""})),a.forceUpdate()):a.setState(Object(l.a)({},a.state,{error:e.message,preload:!1,msg:""}))}).catch(function(e){a.setState(Object(l.a)({},a.state,{error:"Connection error occured",preload:!1})),console.log("error",e)})},a.handleExportInvoices=function(){a.setState(Object(l.a)({},a.state,{preload:!0,selected_count:0,selected_total:0,selecteddata:[]}));var e={loads:a.state.included};Object(A.w)(a.state.xtoken,e).then(function(e){if(200===e.status){var t=e.fileurl,r=document.createElement("a");r.href=t,r.setAttribute("download","statement"),r.setAttribute("target","_blank"),r.click(),a.setState(Object(l.a)({},a.state,{preload:!1,fileurl:e.fileurl,error:""})),a.forceUpdate()}else a.setState(Object(l.a)({},a.state,{error:e.message,preload:!1,msg:""}))}).catch(function(e){a.setState(Object(l.a)({},a.state,{error:"Connection error occured",preload:!1})),console.log("error",e)})},a.handleExportInvoicesAndPaperWork=function(){a.setState(Object(l.a)({},a.state,{preload:!0,selected_count:0,selected_total:0,selecteddata:[]}));var e={loads:a.state.included};Object(A.x)(a.state.xtoken,e).then(function(e){if(200===e.status){var t=e.fileurl,r=document.createElement("a");r.href=t,r.setAttribute("download","statement"),r.setAttribute("target","_blank"),r.click(),a.setState(Object(l.a)({},a.state,{preload:!1,fileurl:e.fileurl,error:""})),a.forceUpdate()}else a.setState(Object(l.a)({},a.state,{error:e.message,preload:!1,msg:""}))}).catch(function(e){a.setState(Object(l.a)({},a.state,{error:"Connection error occured",preload:!1})),console.log("error",e)})},a.handleExportPaperWork=function(){a.setState(Object(l.a)({},a.state,{preload:!0,selected_count:0,selected_total:0,selecteddata:[]}));var e={loads:a.state.included};Object(A.y)(a.state.xtoken,e).then(function(e){if(200===e.status){var t=e.fileurl,r=document.createElement("a");r.href=t,r.setAttribute("download","statement"),r.setAttribute("target","_blank"),r.click(),a.setState(Object(l.a)({},a.state,{preload:!1,fileurl:e.fileurl,error:""})),a.forceUpdate()}else a.setState(Object(l.a)({},a.state,{error:e.message,preload:!1,msg:""}))}).catch(function(e){a.setState(Object(l.a)({},a.state,{error:"Connection error occured",preload:!1})),console.log("error",e)})},a.state={company:"",report_date:"",report_no:"",all_count:0,selected_count:0,all_total:0,selected_total:0,xtoken:"",msg:"",error:"",fileurl:"",downloadFile:!0,preload:!1,data:[],selecteddata:[],included:[],companies:[]},R.a.getItem(V.a.secret).then(function(e){if(null!==e){var t=JSON.parse(e);Object(A.B)(t.user.token).then(function(e){1===parseInt(e.expired)&&(window.location.href="/bills/payment")}).catch(function(e){return console.log(e)}),Object(A.D)(t.user.token).then(function(e){a.setState(Object(l.a)({},a.state,{xtoken:t.user.token,companies:e.data,report_no:e.next_report,report_date:a.currentDate()}))}).catch(function(e){return console.log(e)}),Object(A.O)(t.user.token).then(function(e){a.setState(Object(l.a)({},a.state,{data:e.data,all_count:e.count,all_total:e.total}))}).catch(function(e){return console.log(e)})}}).catch(function(e){console.log("storage error",e)}),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return m.a.createElement(u.a,{title:"Factoring reports",breadcrumbs:[{name:"Reports",active:!0}]},this.state.preload&&m.a.createElement(p.a,null,m.a.createElement(h.a,{xl:12,lg:12,md:12},m.a.createElement(f.a,null,m.a.createElement(v.a,null,m.a.createElement(k.a,null))))),this.state.error.length>0&&m.a.createElement(p.a,null,m.a.createElement(h.a,{xl:12,lg:12,md:12},m.a.createElement(f.a,null,m.a.createElement(E.a,{color:"danger"},this.state.error)))),m.a.createElement(p.a,null,m.a.createElement(h.a,{xl:12,lg:12,md:12},m.a.createElement(f.a,null,m.a.createElement(b.a,{className:"f-report-cbody"},m.a.createElement(p.a,{className:""},m.a.createElement(h.a,{xl:12,lg:12,md:12},m.a.createElement(g.a,{inline:!0},m.a.createElement(y.a,null,m.a.createElement(v.a,{className:"f-report-card-header"},m.a.createElement("b",null,"Report Info"))),m.a.createElement(y.a,null,m.a.createElement(_.a,{className:"f-report-label",for:"exampleEmail"},"Report : #"),m.a.createElement(O.a,{readOnly:!0,className:"f-report-input",type:"number",value:this.state.report_no,name:"bbbbg",placeholder:""})),m.a.createElement(y.a,null,m.a.createElement(_.a,{className:"f-report-label",for:"dt"},"Date :"),m.a.createElement(O.a,{readOnly:!0,className:"f-report-input",type:"date",value:this.state.report_date,name:"origin",placeholder:""})),m.a.createElement(y.a,null,m.a.createElement(_.a,{className:"f-report-label",for:"exampleEmail"},"Company :"),m.a.createElement(O.a,{className:"f-report-input",onChange:this.handleCompanyInputChange,value:this.state.company,defaultValue:this.state.company,type:"select",name:"co"},m.a.createElement("option",{value:"",disabled:!0},"Select company"),this.state.companies.map(function(e,t){return m.a.createElement("option",{key:t,value:e.id},e.company)}))))))))),m.a.createElement(h.a,{xl:12,lg:12,md:12},m.a.createElement(f.a,null,m.a.createElement(b.a,null,m.a.createElement("div",null,m.a.createElement(j.a,{style:{minHeight:250,height:250},className:"f-table",size:"sm",striped:!0,hover:!0,responsive:!0},m.a.createElement("thead",{className:"f-statement-head f-thead"},m.a.createElement("tr",{className:"f-tr"},m.a.createElement("th",null,"Invoice#"),m.a.createElement("th",null,"Load#"),m.a.createElement("th",{style:{minWidth:300,width:300}},"Route"),m.a.createElement("th",null,"Invoice Date"),m.a.createElement("th",null,"Truck#"),m.a.createElement("th",null,"Drop-off"),m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"Total"),m.a.createElement("th",null,"Action"))),m.a.createElement("tbody",{className:"f-tbody",style:{maxHeight:400,overscrollBehaviorY:"auto",background:"#ddd"}},this.state.selecteddata.length>0&&this.state.selecteddata.map(function(t,a){return m.a.createElement("tr",{key:a,className:"f-tr"},m.a.createElement("td",null,t.id),m.a.createElement("td",null,t.id),m.a.createElement("td",{style:{minWidth:300,width:300}},e.firstUpper(t.city)+", "+t.state," -",e.firstUpper(t.d_city)+", "+t.d_state),m.a.createElement("td",null,t.created_at),m.a.createElement("td",null,t.truck),m.a.createElement("td",null,t.updated_at),m.a.createElement("td",null,t.status),m.a.createElement("td",null,"$",t.rate),m.a.createElement("td",null,m.a.createElement(S.a,{title:"remove"},m.a.createElement(N.a,{onClick:function(){return e.handleMoveFromReport(t.id)},className:"f-btn"},m.a.createElement(P.a,null)," "))))}),0===this.state.selecteddata.length&&m.a.createElement("p",{style:{textAlign:"center",marginTop:40}},"No items in this report. Add entries from below")),m.a.createElement("thead",{className:"f-thead"},m.a.createElement("tr",{className:"f-foot-tr f-tr"},m.a.createElement("td",null,"count "," ",m.a.createElement("span",{className:"around-item"},this.state.selected_count)),m.a.createElement("td",{colSpan:2},m.a.createElement(N.a,{onClick:function(){return e.handleExportInvoices()},className:"f-btn"},m.a.createElement(C.a,null)," "," Export Invoices")),m.a.createElement("td",{colSpan:3},m.a.createElement(N.a,{onClick:function(){return e.handleExportInvoicesAndPaperWork()},className:"f-btn"},m.a.createElement(M.a,null)," ","Export Invoices & Paperwork")),m.a.createElement("td",{colSpan:2},m.a.createElement(N.a,{onClick:function(){return e.handleExportPaperWork()},className:"f-btn"},m.a.createElement(z.a,null)," ","Export Paperwork")),m.a.createElement("td",{style:{width:200}},"total $"," ",m.a.createElement("span",{className:"around-item"},this.state.selected_total))))),m.a.createElement("hr",null),m.a.createElement(j.a,{style:{minHeight:400,height:400},className:"f-table",size:"sm",striped:!0,hover:!0,responsive:!0},m.a.createElement("thead",{className:"f-statement-head f-thead"},m.a.createElement("tr",{className:"f-tr"},m.a.createElement("th",null,"Invoice#"),m.a.createElement("th",null,"Load#"),m.a.createElement("th",{style:{minWidth:300,width:300}},"Route"),m.a.createElement("th",null,"Invoice Date"),m.a.createElement("th",null,"Truck#"),m.a.createElement("th",null,"Drop-off"),m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"Total"),m.a.createElement("th",null,"Action"))),m.a.createElement("tbody",{className:"f-tbody",style:{maxHeight:400,overscrollBehaviorY:"auto"}},this.state.data.length>0&&this.state.data.map(function(t,a){return m.a.createElement("tr",{key:a,className:"f-tr"},m.a.createElement("td",null,t.id),m.a.createElement("td",null,t.id),m.a.createElement("td",{style:{minWidth:300,width:300}},e.firstUpper(t.city)+", "+t.state," -",e.firstUpper(t.d_city)+", "+t.d_state),m.a.createElement("td",null,t.created_at),m.a.createElement("td",null,t.truck),m.a.createElement("td",null,t.updated_at),m.a.createElement("td",null,t.status),m.a.createElement("td",null,"$",t.rate),m.a.createElement("td",null,m.a.createElement(S.a,{title:"Add to report"},m.a.createElement(N.a,{onClick:function(){return e.handleMoveToReport(t.id)},className:"f-btn"},m.a.createElement(H.a,null)," "))))})),m.a.createElement("thead",{className:"f-thead"},m.a.createElement("tr",{className:"f-foot-tr f-tr"},m.a.createElement("td",null,"count "," ",m.a.createElement("span",{className:"around-item"},this.state.all_count)),m.a.createElement("td",null),m.a.createElement("td",{colSpan:5}),m.a.createElement("td",null),m.a.createElement("td",{style:{width:200}},"total $"," ",m.a.createElement("span",{className:"around-item"},this.state.all_total)))))))))))}}]),t}(m.a.Component));t.default=W}}]);
//# sourceMappingURL=15.34af5be0.chunk.js.map